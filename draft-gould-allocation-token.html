<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Allocation Token Extension for the Extensible Provisioning Protocol (EPP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Allocation Token Extension for the Extensible Provisioning Protocol (EPP)">
<meta name="generator" content="xml2rfc v1.36 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Gould</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">VeriSign, Inc.</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">T. Tran</td></tr>
<tr><td class="header">Expires: August 14, 2014</td><td class="header">Neustar</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 10, 2014</td></tr>
</table></td></tr></table>
<h1><br />Allocation Token Extension for the Extensible Provisioning Protocol (EPP)<br />draft-gould-allocation-token-00</h1>

<h3>Abstract</h3>

<p>This document describes an Extensible Provisioning Protocol (EPP)
      extension for including an allocation token or code for allocating 
      an object like a domain name to the client.  The allocation token 
      MAY be transferred out-of-band to a client to give them authorization 
      to allocation an object using one of the EPP transform commands 
      including create, update, and transfer.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on August 14, 2014.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2014 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Conventions Used in This Document<br />
<a href="#attrs">2.</a>&nbsp;
Object Attributes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#allocationToken">2.1.</a>&nbsp;
Allocation Token<br />
<a href="#commands">3.</a>&nbsp;
EPP Command Mapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#queryCommands">3.1.</a>&nbsp;
EPP Query Commands<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#checkCommand">3.1.1.</a>&nbsp;
EPP &lt;check&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#infoCommand">3.1.2.</a>&nbsp;
EPP &lt;info&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#transferQueryCommand">3.1.3.</a>&nbsp;
EPP &lt;transfer&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#transformCommands">3.2.</a>&nbsp;
EPP Transform Commands<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#createCommand">3.2.1.</a>&nbsp;
EPP &lt;create&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#deleteCommand">3.2.2.</a>&nbsp;
EPP &lt;delete&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#renewCommand">3.2.3.</a>&nbsp;
EPP &lt;renew&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#transferCommand">3.2.4.</a>&nbsp;
EPP &lt;transfer&gt; Command<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#updateCommand">3.2.5.</a>&nbsp;
EPP &lt;update&gt; Command<br />
<a href="#syntax">4.</a>&nbsp;
Formal Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.1.</a>&nbsp;
Allocation Token Extension Schema<br />
<a href="#anchor4">5.</a>&nbsp;
Change History<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#version-00">5.1.</a>&nbsp;
Version 00<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document describes an extension mapping for version 1.0 of the
      <a class='info' href='#RFC5730'>Extensible Provisioning Protocol (EPP)<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a> [RFC5730].
      This mapping, an extension to EPP object mappings like the <a class='info' href='#RFC5731'>EPP domain name mapping<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a> [RFC5731], for passing 
      an allocation token one of the EPP transform commands including 
      create, update, and transfer.  The allocation token is known to the 
      server to authorize a client that passes a matching allocation token 
      with one of the supported EPP transform commands.  It is up to server 
      policy which EPP transform commands and which objects support the 
      allocation token.  The allocation token MAY be returned in an 
      authorized client for passing out-of-band to a client that 
      uses it with an EPP transform command.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Conventions Used in This Document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<p>XML is case sensitive. Unless stated otherwise, XML specifications
        and examples provided in this document MUST be interpreted in the
        character case presented in order to develop a conforming
        implementation.
</p>
<p>In examples, "C:" represents lines sent by a protocol client and "S:" represents lines returned by a protocol server.  
        Indentation and white space in examples are provided only to illustrate element relationships 
        and are not a REQUIRED feature of this protocol.        
        
</p>
<p>"allocationToken-1.0" is used as an abbreviation for
        "urn:ietf:params:xml:ns:allocationToken-1.0". The XML namespace prefix 
        "allocationToken" is used, but implementations MUST NOT depend on 
        it and instead employ
        a proper namespace-aware XML parser and serializer to interpret and
        output the XML documents.
</p>
<a name="attrs"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Object Attributes</h3>

<p>This extension adds additional elements to EPP object mappings like the <a class='info' href='#RFC5731'>EPP domain name mapping<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a> [RFC5731]. Only those new elements
      are described here.
</p>
<a name="allocationToken"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Allocation Token</h3>

<p>The Allocation Token is a simple XML "token" type.  The exact 
        format of the Allocation Token is up to server policy.  The server 
        MUST have the allocation token for each object to match against the 
        allocation token passed by the client to authorize the allocation of 
        the object.  The same &lt;allocationToken:allocationToken&gt; element 
        is used for all of the supported EPP transform commands as well as the 
        info response.  If an invalid allocation token is passed the server MUST 
        return an EPP error result code of 2201.
</p>
<p>An example &lt;allocationToken:allocationToken&gt; element 
            with value of "abc123":
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;allocationToken:allocationToken xmlns:allocationToken=
          "urn:ietf:params:xml:ns:allocationToken-1.0"&gt;
  abc123
&lt;/allocationToken:allocationToken&gt;</pre></div>
<a name="commands"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
EPP Command Mapping</h3>

<p>A detailed description of the EPP syntax and semantics can be found
      in the EPP core protocol specification <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="queryCommands"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
EPP Query Commands</h3>

<p>EPP provides three commands to retrieve object information: &lt;check&gt; to determine 
        if an object is known to the server, &lt;info&gt; to retrieve detailed information associated 
        with an object, and &lt;transfer&gt; to retrieve object transfer status information.
</p>
<a name="checkCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
EPP &lt;check&gt; Command</h3>

<p>This extension does not add any elements to the EPP &lt;check&gt; command 
       or &lt;check&gt; response described in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="infoCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
EPP &lt;info&gt; Command</h3>

<p>This extension defines additional elements to extend the EPP
        &lt;info&gt; command of an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<p>The EPP &lt;info&gt; command allows a client to request information on an 
       existing object.  Authorized clients MAY retrieve the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> along 
       with the other object information using the &lt;allocationToken:info&gt; element 
       that identifies the extension namespace.  The &lt;allocationToken:info&gt; 
       element is an empty element that serves as a marker to the server to 
       return the &lt;allocationToken:allocationToken&gt; element, defined in 
       <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> in the info response.  If the client is not 
       authorized to receive the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, the server MUST 
       return an EPP error result code of 2201.  If the client is authorized to 
       receive the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, but there is no <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> 
       associated with the object, the server MUST return an EPP error result code of 
       2303 object referencing the &lt;allocationToken:info&gt; element.
</p>
<p>Example &lt;info&gt; command with the allocationToken:info 
            extension for the example.tld domain name:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C:&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
C:&lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
C:  &lt;command&gt;
C:   &lt;info&gt;
C:    &lt;domain:info
C:      xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"
C:      xsi:schemaLocation="urn:ietf:params:xml:ns:domain-1.0
C:      domain-1.0.xsd"&gt;
C:      &lt;domain:name&gt;example.tld&lt;/domain:name&gt;
C:    &lt;/domain:info&gt;
C:   &lt;/info&gt;
C:   &lt;extension&gt;
C:      &lt;allocationToken:info
C:        xmlns:allocationToken=
C:          "urn:ietf:params:xml:ns:allocationToken-1.0/&gt;
C:   &lt;/extension&gt;
C:   &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
C:  &lt;/command&gt;
C:&lt;/epp&gt;</pre></div>
<p>If the query was successful, the server replies with an
          &lt;allocationToken:allocationToken&gt; element, as described in 
          <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>.
</p>
<p>Example &lt;info&gt; domain response using the 
            &lt;allocationToken:allocationToken&gt; extension:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S:&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
S:&lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
S:  &lt;response&gt;
S:    &lt;result code="1000"&gt;
S:      &lt;msg&gt;Command completed successfully&lt;/msg&gt;
S:    &lt;/result&gt;
S:    &lt;resData&gt;
S:      &lt;domain:infData
S:       xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
S:        &lt;domain:name&gt;example.tld&lt;/domain:name&gt;
S:        &lt;domain:roid&gt;EXAMPLE1-REP&lt;/domain:roid&gt;
S:        &lt;domain:status s="pendingCreate"/&gt;
S:        &lt;domain:registrant&gt;jd1234&lt;/domain:registrant&gt;
S:        &lt;domain:contact type="admin"&gt;sh8013&lt;/domain:contact&gt;
S:        &lt;domain:contact type="tech"&gt;sh8013&lt;/domain:contact&gt;
S:        &lt;domain:clID&gt;ClientX&lt;/domain:clID&gt;
S:        &lt;domain:crID&gt;ClientY&lt;/domain:crID&gt;
S:        &lt;domain:crDate&gt;2012-04-03T22:00:00.0Z&lt;/domain:crDate&gt;
S:        &lt;domain:authInfo&gt;
S:          &lt;domain:pw&gt;2fooBAR&lt;/domain:pw&gt;
S:        &lt;/domain:authInfo&gt;
S:      &lt;/domain:infData&gt;
S:    &lt;/resData&gt;
S:    &lt;extension&gt;
S:      &lt;allocationToken:allocationToken
S:        xmlns:allocationToken=
S:          "urn:ietf:params:xml:ns:allocationToken-1.0"&gt;
S:        abc123
S:      &lt;/allocationToken:allocationToken&gt;
S:    &lt;/extension&gt;
S:    &lt;trID&gt;
S:      &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
S:      &lt;svTRID&gt;54321-XYZ&lt;/svTRID&gt;
S:    &lt;/trID&gt;
S:  &lt;/response&gt;
S:&lt;/epp&gt;</pre></div>
<a name="transferQueryCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.3"></a><h3>3.1.3.&nbsp;
EPP &lt;transfer&gt; Command</h3>

<p>This extension does not add any elements to the EPP &lt;transfer&gt; query command 
       or &lt;transfer&gt; response described in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="transformCommands"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
EPP Transform Commands</h3>

<p>EPP provides five commands to transform objects: &lt;create&gt; to create an instance of an object, 
        &lt;delete&gt; to delete an instance of an object, &lt;renew&gt; to extend the validity period of an object,
        &lt;transfer&gt; to manage object sponsorship changes, and &lt;update&gt; to change information associated 
        with an object.
</p>
<a name="createCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
EPP &lt;create&gt; Command</h3>

<p>This extension defines additional elements to extend the EPP
        &lt;create&gt; command of an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<p>The EPP &lt;create&gt; command provides a transform operation that allows a client to create an object.  
       In addition to the EPP command elements described in an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>, the command MUST contain a 
       child &lt;allocationToken:allocationToken&gt; element, as defined in <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, that identifies the extension namespace 
       for the client to be authorized to create and allocate the object.  If the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> does not match 
       the object's <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, the server MUST server MUST 
       return an EPP error result code of 2201.:
</p>
<p>Example &lt;create&gt; command to create a domain object with an allocation token:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C:&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
C:&lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
C:  &lt;command&gt;
C:    &lt;create&gt;
C:      &lt;domain:create
C:       xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
C:        &lt;domain:name&gt;example.tld&lt;/domain:name&gt;
C:        &lt;domain:registrant&gt;jd1234&lt;/domain:registrant&gt;
C:        &lt;domain:contact type="admin"&gt;sh8013&lt;/domain:contact&gt;
C:        &lt;domain:contact type="tech"&gt;sh8013&lt;/domain:contact&gt;
C:        &lt;domain:authInfo&gt;
C:          &lt;domain:pw&gt;2fooBAR&lt;/domain:pw&gt;
C:        &lt;/domain:authInfo&gt;
C:      &lt;/domain:create&gt;
C:    &lt;/create&gt;
C:    &lt;extension&gt;
C:      &lt;allocationToken:allocationToken
C:        xmlns:allocationToken=
C:          "urn:ietf:params:xml:ns:allocationToken-1.0"&gt;
C:        abc123
C:      &lt;/allocationToken:allocationToken&gt;
C:    &lt;/extension&gt;
C:    &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
C:  &lt;/command&gt;
C:&lt;/epp&gt;</pre></div>
<p>This extension does not add any elements to the EPP &lt;create&gt; response described 
       in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="deleteCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
EPP &lt;delete&gt; Command</h3>

<p>This extension does not add any elements to the EPP &lt;delete&gt; command 
       or &lt;delete&gt; response described in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="renewCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
EPP &lt;renew&gt; Command</h3>

<p>This extension does not add any elements to the EPP &lt;renew&gt; command 
       or &lt;renew&gt; response described in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="transferCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.4"></a><h3>3.2.4.&nbsp;
EPP &lt;transfer&gt; Command</h3>

<p>This extension defines additional elements to extend the EPP
        &lt;transfer&gt; request command of an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<p>The EPP &lt;transfer&gt; request command provides a transform operation that allows a client to request the 
       transfer of an object.  
       In addition to the EPP command elements described in an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>, the command MUST contain a 
       child &lt;allocationToken:allocationToken&gt; element, as defined in <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, that identifies the extension namespace 
       for the client to be authorized to transfer and allocate the object.  If the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> does not match 
       the object's <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, the server MUST server MUST 
       return an EPP error result code of 2201.:
</p>
<p>Example &lt;transfer&gt; request command to allocate the domain object with 
            the allocation token:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C:&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
C:&lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
C:  &lt;command&gt;
C:    &lt;transfer op="request"&gt;
C:      &lt;domain:transfer
C:        xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
C:        &lt;domain:name&gt;example1.tld&lt;/domain:name&gt;
C:        &lt;domain:period unit="y"&gt;1&lt;/domain:period&gt;
C:        &lt;domain:authInfo&gt;
C:          &lt;domain:pw&gt;2fooBAR&lt;/domain:pw&gt;
C:        &lt;/domain:authInfo&gt;
C:      &lt;/domain:transfer&gt;
C:    &lt;/transfer&gt;
C:    &lt;extension&gt;
C:      &lt;allocationToken:allocationToken
C:        xmlns:allocationToken=
C:          "urn:ietf:params:xml:ns:allocationToken-1.0"&gt;
C:        abc123
C:      &lt;/allocationToken:allocationToken&gt;
C:    &lt;/extension&gt;
C:    &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
C:  &lt;/command&gt;
C:&lt;/epp&gt;</pre></div>
<p>This extension does not add any elements to the EPP &lt;transfer&gt; response described 
       in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="updateCommand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.5"></a><h3>3.2.5.&nbsp;
EPP &lt;update&gt; Command</h3>

<p>This extension defines additional elements to extend an extension of an empty EPP
        &lt;update&gt; command of an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>.  An 
        example of an extension of an empty EPP &lt;update&gt; command is the definition of the 
        restore command within <a class='info' href='#RFC3915'>[RFC3915]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Domain Registry Grace Period Mapping for the Extensible Provisioning Protocol (EPP),&rdquo; September&nbsp;2004.</span><span>)</span></a>.
</p>
<p>An extension of an empty EPP &lt;update&gt; command defines a new verb that transforms an object.    
       In addition to the EPP command elements described in an object mapping like <a class='info' href='#RFC5731'>[RFC5731]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP) Domain Name Mapping,&rdquo; August&nbsp;2009.</span><span>)</span></a>, the command MUST contain a 
       child &lt;allocationToken:allocationToken&gt; element, as defined in <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, that identifies the extension namespace 
       for the client to be authorized to allocate the object.  If the <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a> does not match 
       the object's <a class='info' href='#allocationToken'>Section&nbsp;2.1<span> (</span><span class='info'>Allocation Token</span><span>)</span></a>, the server MUST server MUST 
       return an EPP error result code of 2201.:
</p>
<p>Example use an extension of an empty &lt;update&gt; command to release a 
            domain object with an allocation token:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C:&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
C:&lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
C:  &lt;command&gt;
C:    &lt;update&gt;
C:      &lt;domain:update
C:        xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
C:        &lt;domain:name&gt;example1.tld&lt;/domain:name&gt;
C:      &lt;/domain:update&gt;
C:    &lt;/update&gt;
C:    &lt;extension&gt;
C:      &lt;release:release
C:        xmlns:release="urn:ietf:params:xml:ns:release-1.0"/&gt;
C:      &lt;allocationToken:allocationToken
C:        xmlns:allocationToken=
C:          "urn:ietf:params:xml:ns:allocationToken-1.0"&gt;
C:        abc123
C:      &lt;/allocationToken:allocationToken&gt;
C:    &lt;/extension&gt;
C:    &lt;clTRID&gt;ABC-12345-XYZ&lt;/clTRID&gt;
C:  &lt;/command&gt;
C:&lt;/epp&gt;</pre></div>
<p>This extension does not add any elements to the EPP &lt;update&gt; response described 
       in the <a class='info' href='#RFC5730'>[RFC5730]<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="syntax"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Formal Syntax</h3>

<p>One schema is presented here that is the EPP Allocation Token Extension
      schema.
</p>
<p>The formal
      syntax presented here is a complete schema representation of the object
      mapping suitable for automated validation of EPP XML instances. The
      BEGIN and END tags are not part of the schema; they are used to note the
      beginning and ending of the schema for URI registration purposes.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Allocation Token Extension Schema</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
BEGIN
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;schema targetNamespace="urn:ietf:params:xml:ns:allocationToken-1.0"
  xmlns:allocationToken="urn:ietf:params:xml:ns:allocationToken-1.0"
  xmlns="http://www.w3.org/2001/XMLSchema"
  elementFormDefault="qualified"&gt;

  &lt;annotation&gt;
    &lt;documentation&gt;
      Extensible Provisioning Protocol v1.0
      Allocation Token Extension.
    &lt;/documentation&gt;
  &lt;/annotation&gt;

  &lt;!-- Element used in info command to get allocation token. --&gt;
  &lt;element name="info"/&gt;

  &lt;!-- Allocation Token used in transform
  commands and info response --&gt;
  &lt;element name="allocationToken"
    type="allocationToken:allocationTokenType"/&gt;

   &lt;complexType name="allocationTokenType"&gt;
    &lt;simpleContent&gt;
      &lt;extension base="token"/&gt;
    &lt;/simpleContent&gt;
  &lt;/complexType&gt;

   &lt;!-- End of schema.--&gt;
&lt;/schema&gt;
END</pre></div>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Change History</h3>

<a name="version-00"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Version 00</h3>

<p></p>
<ol class="text">
<li>Initial version.
</li>
</ol>

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
             This document uses URNs to describe XML namespaces and XML schemas
             conforming to a registry mechanism described in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
             One URI assignment must be completed by the IANA.
         
</p>
<p>Registration request for the allocationToken namespace:
</p>
<p>Registration request for the extension XML schema:
</p>
<p>URI: urn:ietf:params:xml:ns:allocationToken-1.0
</p>
<p>Registrant Contact: IESG
</p>
<p>XML: See the "Formal Syntax" section of this document.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>The mapping extensions described in this document do not provide any
      security services beyond those described by <a class='info' href='#RFC5730'>EPP<span> (</span><span class='info'>Hollenbeck, S., &ldquo;Extensible Provisioning Protocol (EPP),&rdquo; August&nbsp;2009.</span><span>)</span></a> [RFC5730] and protocol layers used by EPP. The security
      considerations described in these other specifications apply to this
      specification as well.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3915">[RFC3915]</a></td>
<td class="author-text">Hollenbeck, S., &ldquo;<a href="http://tools.ietf.org/html/rfc3915">Domain Registry Grace Period Mapping for the Extensible Provisioning Protocol (EPP)</a>,&rdquo; RFC&nbsp;3915, September&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3915.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5730">[RFC5730]</a></td>
<td class="author-text">Hollenbeck, S., &ldquo;<a href="http://tools.ietf.org/html/rfc5730">Extensible Provisioning Protocol (EPP)</a>,&rdquo; STD&nbsp;69, RFC&nbsp;5730, August&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5730.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5731">[RFC5731]</a></td>
<td class="author-text">Hollenbeck, S., &ldquo;<a href="http://tools.ietf.org/html/rfc5731">Extensible Provisioning Protocol (EPP) Domain Name Mapping</a>,&rdquo; STD&nbsp;69, RFC&nbsp;5731, August&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5731.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James Gould</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">VeriSign, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">12061 Bluemont Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Reston, VA  20190</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jgould@verisign.com">jgould@verisign.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.verisigninc.com">http://www.verisigninc.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Trung Tran</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Neustar</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">21575 Ridgetop Circle</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sterling, VA  20166</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Trung.Tran@neustar.biz">Trung.Tran@neustar.biz</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.neustar.biz">http://www.neustar.biz</a></td></tr>
</table>
</body></html>
